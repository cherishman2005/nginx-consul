# https

![https原理](/img/https.png)

1. 对称秘钥（随机数）通过非对称加密进行传输；

1. 请求与响应通过对称加密，然后再传输；—— 提供效率；

1. 非对称加密也可能被劫持？
   —— 通过数字证书传递公钥，防止被劫持；

   使用公有密匙加密的消息，只有对应的私有密匙才能解开。反过来，使用私有密匙加密的消息，只有公有密匙才能解开。这样客户端在发送消息前，先用服务器的公匙对消息进行加密，服务器收到后再用自己的私匙进行解密。

# FAQ

## http预防劫持
采用https（http + ssl）传输；
   
## DNS预防劫持

采用httpDNS预防劫持

* 防劫持：由于绕过了运营商的LocalDNS，用户解析域名的请求通过Http协议直接透传到了HTTPDNS服务器IP上，用户在客户端的域名解析请求将不会遭受到域名解析被劫持的困扰。

* 精度调整: 由于运营商策略的多样性，其 Local DNS 的解析结果可能不是最近、最优的节点，HTTPDNS 能直接获取客户端 IP ，基于客户端 IP 获得最精准的解析结果，让客户端就近接入业务节点。

* 扩展性强: HTTPDNS提供可靠的域名解析服务，业务可将自有调度逻辑与HTTPDNS返回结果结合，实现更精细化的流量调度。

* 快速生效: 解决 “Local DNS 不遵循权威 TTL ，变更域名解析结果后全网无法即时生效”的问题。

